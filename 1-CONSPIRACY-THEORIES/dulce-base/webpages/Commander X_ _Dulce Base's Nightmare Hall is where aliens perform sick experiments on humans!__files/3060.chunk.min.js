(("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi=("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi||[]).push([[3060],{2740:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=r(60751),i=a(n),s=a(r(62688));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.scrollListener=r.scrollListener.bind(r),r.eventListenerOptions=r.eventListenerOptions.bind(r),r.mousewheelListener=r.mousewheelListener.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(e){}return e}},{key:"eventListenerOptions",value:function(){this.props.useCapture;return this.isPassiveSupported()?{useCapture:this.props.useCapture,passive:!0}:{passive:!1}}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,r=this.getParentElement(e),o=void 0;if(this.props.useWindow){var n=document.documentElement||document.body.parentNode||document.body,i=void 0!==t.pageYOffset?t.pageYOffset:n.scrollTop;o=this.props.isReverse?i:this.calculateOffset(e,i)}else o=this.props.isReverse?r.scrollTop:e.scrollHeight-r.scrollTop-r.clientHeight;o<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=r.scrollHeight,this.beforeScrollTop=r.scrollTop,"function"==typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),r=t.children,o=t.element,n=t.hasMore,s=(t.initialLoad,t.isReverse),a=t.loader,u=(t.loadMore,t.pageStart,t.ref),p=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));p.ref=function(t){e.scrollComponent=t,u&&u(t)};var d=[r];return n&&(a?s?d.unshift(a):d.push(a):this.defaultLoader&&(s?d.unshift(this.defaultLoader):d.push(this.defaultLoader))),i.default.createElement(o,p,d)}}]),t}(n.Component);u.propTypes={children:s.default.node.isRequired,element:s.default.node,hasMore:s.default.bool,initialLoad:s.default.bool,isReverse:s.default.bool,loader:s.default.node,loadMore:s.default.func.isRequired,pageStart:s.default.number,ref:s.default.func,getScrollParent:s.default.func,threshold:s.default.number,useCapture:s.default.bool,useWindow:s.default.bool},u.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=u,e.exports=t.default},30808:(e,t,r)=>{e.exports=r(2740)},36485:(e,t,r)=>{"use strict";r.d(t,{O:()=>d});var o=r(89786),n=r(88363),i=r(69050),s=r(76676),a=r(77072),u=r(43624),p=r(65684);const d=e=>{const{metaSiteId:t,uid:r,siteOwnerId:d}=e.wixInstance();if(!t)return;const l=(0,u.q)(e),c=(e,o)=>{const n=d===r;o({error:(0,i.K)(e,t,n)})};return(0,p.s)(((e,t)=>{const r=(0,s.t)(e.name);return r===a.z.IMAGE?((e,t)=>l(e,a.z.IMAGE).then((({file_name:e,original_file_name:r,height:o,width:n})=>{t({data:{id:e,height:o,width:n,original_file_name:r,file_name:e}})})).catch((e=>c(e,t))))(e,t):r===a.z.VIDEO?((e,t)=>l(e,a.z.VIDEO).then((({file_output:{video:r,image:o}})=>{t({data:{pathname:(0,n.f)(r).url,thumbnail:{pathname:o[0].url,width:o[0].width,height:o[0].height},title:e.name}})})).catch((e=>c(e,t))))(e,t):t({error:(i=e.name,{key:o.n.UNSUPPORTED_EXTENSION,args:{extension:i.split(".").pop()?.toLowerCase()||""}})});var i}),e.editorProps.fileUploadSizeLimit)}},88363:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});const o=e=>{const t=e.filter((e=>"mp4"===e.format)),r=e=>parseInt(e.quality,10);return t.reduce(((e,t)=>r(t)>r(e)?t:e))}},69050:(e,t,r)=>{"use strict";r.d(t,{K:()=>i});var o=r(89786),n=(e=>(e.SiteQuotaExceeded="wpm_error.site_quota_total_storage_exceeded",e.SiteVideoDurationQuotaExceeded="wpm_error.site_quota_total_video_duration_exceeded",e.SizeLimitExceeded="wpm_error.file_size_exceeded_limit",e.General="wpm_error.general",e.MimeTypeMismatch="wpm_error.mime_type_mismatch",e.InvalidSession="wpm_error.invalid_session",e.SessionExpired="wpm_error.session_expired",e.MissingWixSession="wpm_error.missing_wix_session",e.IncorrectFileInfo="wpm_error.incorrect_file_info",e.InvalidFile="wpm_error.invalid_file",e.UnsupportedFileExtension="wpm_error.unsupported_file_extension",e.WavInvalidMissingHeader="wpm_error.wav_invalid_missing_header",e.WavInvalidFormatChunkMissing="wpm_error.wav_invalid_format_chunk_missing",e.ExternalFileAuthorization="wpm_error.external_file_authorization",e.ExternalFileForbidden="wpm_error.external_file_forbidden",e.UnsupportedImageFormat="wpm_error.unsupported_format",e.CorruptedImage="wpm_error.corrupted_image",e.ImageDimentionsExceededLimit="wpm_error.image_dimentions_exceeded_limit",e.Mp4UnsupportedStereoOnly="wpm_error.mp4_unsupported_stereo_only",e.WavUnsupportedStereoOnly="wpm_error.wav_unsupported_stereo_only",e.WmaUnsupportedBitrate="wpm_error.wma_unsupported_bitrate",e.WmaUnsupportedBitrateLossy="wpm_error.wma_unsupported_bitrate_lossy",e.Mp4UnsupportedBitrate="wpm_error.mp4_unsupported_bitrate",e.Mp3UnsupportedStereoOnly="wpm_error.mp3_unsupported_stereo_only",e.Mp3UnsupportedFormat="wpm_error.mp3_unsupported_format",e.WavUnsupportedSampleRate="wpm_error.wav_unsupported_sample_rate",e.AacUnsupportedFormat="wpm_error.aac_unsupported_format",e.WavUnsupportedFormat="wpm_error.wav_unsupported_format",e.WavUnsupportedSampleSize="wpm_error.wav_unsupported_sample_size",e.WavUnsupportedFormatChunkSize="wpm_error.wav_unsupported_format_chunk_size",e.UnsupportedAudioCodec="wpm_error.unsupported_audio_codec",e.ZeroSizeFile="wpm_error.zero_size_file",e.Mp4UnsupportedFormat="wpm_error.mp4_unsupported_format",e.Mp4UnsupportedSampleRate="wpm_error.mp4_unsupported_sample_rate",e.MaxVideoBitrateIsExceeded="wpm_error.max_video_bitrate_is_exceeded",e.VideoDurationMismatch="wpm_error.video_duration_mismatch",e.UnsupportedVideoCodec="wpm_error.unsupported_video_codec",e.SiteSingleVideoDurationQuotaExceeded="wpm_error.site_quota_single_video_duration_exceeded",e))(n||{});const i=(e,t,r)=>{const i=`https://www.wix.com/store/plans?siteGuid=${t}`,{key:s,args:a}=e.error_info||{},u={[n.SizeLimitExceeded]:{key:o.n.SIZE_LIMIT,args:{maxLimit:parseInt(a?.[1],10)}},[n.SiteQuotaExceeded]:{key:r?o.n.QUOTA_STORAGE_OWNER:o.n.QUOTA_STORAGE_VISITOR,args:{upgradeUrl:i,usage:a?.[0],limit:a?.[1]}},[n.SiteVideoDurationQuotaExceeded]:{key:r?o.n.QUOTA_VIDEO_OWNER:o.n.QUOTA_VIDEO_VISITOR,args:{upgradeUrl:i,usage:a?.[0],limit:a?.[1]}},[n.SiteSingleVideoDurationQuotaExceeded]:{key:r?o.n.QUOTA_SINGLE_VIDEO_OWNER:o.n.QUOTA_SINGLE_VIDEO_VISITOR,args:{upgradeUrl:i,usage:a?.[0],limit:a?.[1]}},[n.General]:{key:o.n.GENERIC},[n.MimeTypeMismatch]:{key:o.n.MIME_TYPE_MISMATCH},[n.InvalidSession]:{key:o.n.INVALID_SESSION},[n.SessionExpired]:{key:o.n.SESSION_EXPIRED},[n.MissingWixSession]:{key:o.n.MISSING_WIX_SESSION},[n.IncorrectFileInfo]:{key:o.n.INCORRECT_FILE_INFO},[n.InvalidFile]:{key:o.n.CORRUPT_FILE},[n.UnsupportedFileExtension]:{key:o.n.UNSUPPORTED_EXTENSION,args:{extension:a?.[0]}},[n.WavInvalidMissingHeader]:{key:o.n.MISSING_HEADER},[n.WavInvalidFormatChunkMissing]:{key:o.n.FORMAT_CHUNK_MISSING},[n.ExternalFileAuthorization]:{key:o.n.EXT_FILE_AUTHORIZATION},[n.ExternalFileForbidden]:{key:o.n.EXT_FILE_FORBBIDEN},[n.UnsupportedImageFormat]:{key:o.n.IMAGE_FORMAT},[n.CorruptedImage]:{key:o.n.CORRUPT_IMAGE},[n.ImageDimentionsExceededLimit]:{key:o.n.IMAGE_DIMENSIONS_EXCEEDED},[n.Mp4UnsupportedStereoOnly]:{key:o.n.MP4_STEREO_FORMAT},[n.WavUnsupportedStereoOnly]:{key:o.n.WAV_STEREO_FORMAT},[n.WmaUnsupportedBitrate]:{key:o.n.WMA_BITRATE},[n.WmaUnsupportedBitrateLossy]:{key:o.n.WMA_BITRATE_LOSSY},[n.Mp4UnsupportedBitrate]:{key:o.n.MP4_BITRATE},[n.Mp3UnsupportedStereoOnly]:{key:o.n.MP3_UNSUPPORTED_STEREO},[n.Mp3UnsupportedFormat]:{key:o.n.MP3_UNSUPPORTED_FORMAT},[n.WavUnsupportedSampleRate]:{key:o.n.WAV_SAMPLE_RATE},[n.AacUnsupportedFormat]:{key:o.n.AAC_UNSUPPORTED_FORMAT},[n.WavUnsupportedFormat]:{key:o.n.WAV_UNSUPPORTED_FORMAT},[n.WavUnsupportedSampleSize]:{key:o.n.WAV_SAMPLE_SIZE},[n.WavUnsupportedFormatChunkSize]:{key:o.n.WAV_CHUNK_SIZE},[n.UnsupportedAudioCodec]:{key:o.n.AUDIO_CODEC,args:{codec:a?.[0]}},[n.ZeroSizeFile]:{key:o.n.EMPTY_FILE},[n.Mp4UnsupportedFormat]:{key:o.n.MP4_UNSUPPORTED_FORMAT},[n.Mp4UnsupportedSampleRate]:{key:o.n.MP4_SAMPLE_RATE},[n.MaxVideoBitrateIsExceeded]:{key:o.n.VIDEO_BITRATE,args:{fps:a?.[0]}},[n.VideoDurationMismatch]:{key:o.n.VIDEO_DURATION_MISMATCH,args:{videoDuration:a?.[0],audioDuration:a?.[1]}},[n.UnsupportedVideoCodec]:{key:o.n.VIDEO_CODEC,args:{codec:a?.[0]}}}[s];return{msg:e.error_description,...u}}},71251:(e,t,r)=>{"use strict";r.d(t,{L:()=>o});const o=e=>{console.error(e),"undefined"!=typeof window&&window.__RICOS_LOG_INVARIANT__&&window.__RICOS_LOG_INVARIANT__(e)}},43624:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});var o=r(77072);const n=e=>{const t=e.editorProps.biSettings?.consumer,{uid:r,siteOwnerId:n,getWixClientPromise:s}=e.wixInstance(),a=i(r,n,e.editorProps.visitorUploads);return async(e,r,n)=>{const{privacy:i="public",onUploadProgress:u}=n||{},p=new URLSearchParams({mediaType:r,privacy:i}),d=await s(),l=await d.fetchWithAuth(`${o.O}/upload-url?${p.toString()}`,{method:"POST",body:JSON.stringify({})}),c=(await l.json()).uploadUrl,_=new FormData;_.append("file",e,e.name),_.append("media_type",r),_.append("acl",i),t&&_.append("tags",`rich_content_${t}`),a&&_.append("parent_folder_id",a);const m={onUploadProgress:e=>{u?.(e)}},h=await d.fetchWithAuth(c,{method:"POST",body:_,...m}),f=await h.json(),{error_description:v}=f;return new Promise(((e,t)=>v?t(f):e(f[0])))}},i=(e,t,r)=>{const o=t===e,{folderId:n,shouldIncludeSiteOwner:i}=r||{};return i||!o?n:null}},42578:(e,t,r)=>{"use strict";r.d(t,{M2:()=>d,ql:()=>l});var o=r(60751);if(/^(326|564)7$/.test(r.j))var n=r(83990);if(/^(326|564)7$/.test(r.j))var i=r(71251);var s=r(10339);if(/^(326|564)7$/.test(r.j))var a=r(52149);if(/^(326|564)7$/.test(r.j))var u=r(19093);const p=(0,s.q6)({}),d=({children:e,getWixClientPromise:t,jsdomMode:r,instance:s})=>{const{getWixClientPromise:d}=(0,u.W)("",t),[l,c]=o.useState({getWixClientPromise:d}),_=o.useContext(n.vC);return o.useEffect((()=>{if(r)return void(_.decodedInstance&&c((e=>({...e,..._.decodedInstance}))));(async()=>{try{if(s){const e=(0,a.L)(s);return void c((t=>({...t,...e})))}const e=await d(),{headers:t}=await e.auth.getAuthHeaders(),r=t.Authorization;c((e=>({...e,...r?(0,a.L)(r):{}})))}catch(e){(0,i.L)(new Error(`Failed to decode instance: ${e}`)),c((e=>({...e,getWixClientPromise:d})))}})()}),[s,d,r,_.decodedInstance]),o.createElement(p.Provider,{value:l},e)},l=()=>{const e=(0,s.NT)(p);if(!e)throw new Error("useWixInstanceService must be used within a WixInstanceContextProvider");const t=o.useRef(e);return t.current=e,o.useCallback((()=>t.current),[])}},41175:(e,t,r)=>{"use strict";r.d(t,{dC:()=>a,kp:()=>s});var o=r(60751),n=r(10339);const i=(0,n.q6)({}),s=({children:e,visitorUploads:t,fileUploadSizeLimit:r})=>o.createElement(i.Provider,{value:o.useMemo((()=>({visitorUploads:t,fileUploadSizeLimit:r})),[t,r])},e),a=()=>{const e=(0,n.NT)(i);if(!e)throw new Error("useEditorProps must be used within a SomeEditorPropsContextProvider");return e}},10339:(e,t,r)=>{"use strict";r.d(t,{NT:()=>_,dH:()=>c,i7:()=>l,q6:()=>d});var o=r(60751),n=r(83202);r(88538);const i=Symbol(),s=Symbol(),a="undefined"==typeof window?o.useEffect:o.useLayoutEffect,u=e=>({value:t,children:r})=>{const s=(0,o.useRef)(t),u=(0,o.useRef)(0),p=(0,o.useRef)();if(!p.current){const e=new Set,t=t=>{(0,n.unstable_batchedUpdates)((()=>{u.current+=1,e.forEach((e=>e([u.current]))),t()}))};p.current={[i]:{v:s,n:u,l:e,u:t}}}return a((()=>{s.current=t,u.current+=1,(()=>{p.current[i].l.forEach((e=>{e([u.current,t])}))})()}),[t]),(0,o.createElement)(e,{value:p.current},r)},p=e=>e;function d(e){const t=(0,o.createContext)({[i]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});return t[s]=t.Provider,t.Provider=u(t.Provider),delete t.Consumer,t}function l(e,t,r,n){return c((0,o.useContext)(e),t,r,n)}function c(e,t,r,n){const s=e[i];const{v:{current:u},n:{current:p},l:d}=s,l=t(u),[c,_]=(0,o.useReducer)(((e,o)=>{if(n&&console.log(n,"re-render"),!o)return[u,l];if(o[0]<=p)return r(e[1],l)?e:[u,l];try{if(2===o.length){if(Object.is(e[0],o[1]))return e;const n=t(o[1]);return r(e[1],n)?e:[o[1],n]}}catch(e){}return[...e]}),[u,l]);return r(c[1],l)||_(),a((()=>(d.add(_),()=>{d.delete(_)})),[d]),c[1]}function _(e){return l(e,p,Object.is)}},65684:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var o=r(89786);const n=(e,t)=>(r,n)=>function(e,t){return!!t&&e.size>=1024*t*1024}(r,t)?n({error:{key:o.n.SIZE_LIMIT,args:{maxLimit:t}}}):e(r,n)}}]);
//# sourceMappingURL=3060.chunk.min.js.map