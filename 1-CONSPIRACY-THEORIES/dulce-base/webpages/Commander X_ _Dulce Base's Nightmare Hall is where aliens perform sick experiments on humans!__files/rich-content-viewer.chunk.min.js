(("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi=("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi||[]).push([[8820],{12675:(e,s,i)=>{"use strict";i.d(s,{A:()=>t});const t={anchorTarget:"_blank",rel:"noopener"}},57183:(e,s,i)=>{"use strict";i.d(s,{Zb:()=>m,Fn:()=>a,MZ:()=>l,p9:()=>p,KL:()=>u,mt:()=>g,l8:()=>d,n$:()=>f,NQ:()=>h});var t=i(68592),o=i(67957);const n=(e,s)=>e?.colorPresets?.find((e=>e?.reference===s))?.value,r=(e,{wixParam:s,presetFallback:i,colorFallback:o,opacity:r,hex:l=!1})=>{const a=((e,s)=>e?.style?.colors?.[s]?.value)(e,s)||n(e,i)||o;if(l&&void 0!==r)throw new Error("Cannot set opacity on hex color");if(void 0!==r)return(({color:e,alpha:s=1})=>new t.q(e).setAlpha(s).toRgbString())({color:a,alpha:r});const g=new t.q(a);return l?g.toHexString():g.toRgbString()},l=({appSettings:e})=>{const s=[r(e,{wixParam:o.jc,presetFallback:"color-5",colorFallback:"#000000"}),r(e,{wixParam:o.AA,presetFallback:"color-5",colorFallback:"#000000"}),r(e,{wixParam:o.k3,presetFallback:"color-8",colorFallback:"#000000"}),n(e,"color-13"),n(e,"color-18"),n(e,"color-23")].filter((e=>Boolean(e))).map(c),i=Array.from(new Set(s));return Object.fromEntries(i.map(((e,s)=>[`textColor${s}`,{color:e,index:s}])))},a=e=>({color1:n(e,"color-1"),color7:n(e,"color-7"),color8:n(e,"color-8")}),g=(e,s)=>i=>{if(((e,s)=>!s.includes(e.toLocaleLowerCase()))(i,e()))return s(i.toLocaleLowerCase())},p=(e,s)=>{const i=Object.values(e).map((({color:e})=>e));return Array.from(new Set(s.map((e=>e.toLocaleLowerCase())))).filter((e=>!i.includes(e)))},u=(e,s)=>[...Object.values(s),...e].filter(Boolean),c=e=>new t.q(e).toHexString(),d=(e,s)=>i=>e[i]&&s.isHexColor(e[i].color)||s.isHexColor(i),h=(e,s)=>i=>e[i]&&s.isHexColor(e[i].color)?{color:e[i].color}:s.isHexColor(i)?{color:i}:{},m=(e,s)=>i=>i.toArray().reduce(((i,t)=>({...i,...e(t,s)})),{}),f=(e,s)=>i=>{const t=e?.[i]?.color;return s.isHexColor(t)?{backgroundColor:t}:s.isHexColor(i)?{backgroundColor:i}:{}}},51787:(e,s,i)=>{"use strict";i.d(s,{A:()=>o});var t=i(16252);function o(e,s,i){i||(i="true");return(Array.isArray(i)?i:[i]).includes((0,t.get)(e,s))}},1851:(e,s,i)=>{"use strict";i.d(s,{A6:()=>a,PH:()=>r,Yb:()=>l});var t=i(16252),o=i(26153),n=i(38369);const r=e=>decodeURIComponent(e).replace(/\.hash\./g,"#"),l=(e,{newPath:s=!1}={})=>{const i=(0,t.trimStart)(e,"#"),o=s?i:`#${i}`;return(0,n.CD)(s?`/hashtags/${encodeURIComponent(o)}`:`/search/${r=o,encodeURIComponent(r.toLowerCase().replace(/#/g,".hash."))}`);var r},a=(e,s,{newPath:i=!1}={})=>(0,o.d)(l(e,{newPath:i}),s)},77552:(e,s,i)=>{"use strict";i.d(s,{D:()=>o,b:()=>n});var t=i(51787);const o=e=>e.experiments??{},n=(e,s,i)=>(0,t.A)(o(e),s,i)},78968:(e,s,i)=>{var t={"./messages_ar.json":[40107,7621],"./messages_bg.json":[2115,4113],"./messages_ca.json":[15024,3830],"./messages_cs.json":[99602,1656],"./messages_da.json":[98687,7841],"./messages_de.json":[27251,9965],"./messages_el.json":[71381,7351],"./messages_en.json":[23707,7445],"./messages_es.json":[27212,7022],"./messages_fi.json":[90405,3555],"./messages_fr.json":[39264,5366],"./messages_he.json":[3551,7169],"./messages_hi.json":[9899,9429],"./messages_hr.json":[53234,5052],"./messages_hu.json":[30991,5233],"./messages_id.json":[52777,2259],"./messages_it.json":[9881,3843],"./messages_ja.json":[84273,9959],"./messages_ko.json":[34766,8756],"./messages_lt.json":[17512,6514],"./messages_lv.json":[99706,2916],"./messages_ms.json":[27124,1382],"./messages_nl.json":[68334,7140],"./messages_no.json":[98447,7733],"./messages_pl.json":[54876,2622],"./messages_pt.json":[76356,838],"./messages_ro.json":[19371,9273],"./messages_ru.json":[7165,4883],"./messages_sk.json":[78442,7584],"./messages_sl.json":[97735,8477],"./messages_sv.json":[7961,199],"./messages_th.json":[65236,5062],"./messages_tl.json":[69048,6498],"./messages_tr.json":[65662,5296],"./messages_uk.json":[24612,7606],"./messages_vi.json":[18965,1843],"./messages_zh.json":[17006,2732]};function o(e){if(!i.o(t,e))return Promise.resolve().then((()=>{var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}));var s=t[e],o=s[0];return i.e(s[1]).then((()=>i.t(o,17)))}o.keys=()=>Object.keys(t),o.id=78968,e.exports=o},65259:(e,s,i)=>{"use strict";i.d(s,{f:()=>t});const t={LIVE_SITE_EDITOR_DEPRECATION:"specs.wixBlog.LiveSiteEditorDeprication",NEW_POST_PAGE:"specs.wixBlog.NewPostPage",USE_PLATFORM_API:"specs.wixBlog.migratedToNewPlatformApi",OPTIMIZE_READ_TIME_BI_EVENT:"specs.wixBlog.OptimizeReadTimeBiEvent",HEADER_IMAGE:"specs.wixBlog.HeaderImage",DONT_REGISTER_MEMBER_PAGES:"specs.wixBlog.DontRegisterMemberPages",USE_LAYOUT_FIXER:"specs.wixBlog.UseLayoutFixer",MIGRATE_CUSTOM_FEED_ON_EDITOR_READY:"specs.wixBlog.MigrateCustomFeedOnEditorReady",HASHTAG_PAGE_USE_FEED_PAGE:"specs.wixBlog.HashtagPageUseFeedPage",SCROLL_POST_LIST_TO_TOP:"specs.wixBlog.ScrollPostListToTop"}},93133:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>ge});var t=i(60751),o=i.n(t),n=i(23980),r=i(76701),l=i(88104),a=i(31172),g=i(66192),p=i(21782),u=i(91186),c=i(43866),d=i(35051),h=i(52347),m=i(5857),f=i(82341),P=i(75358),_=i(74655),w=i(7093),b=i(43532),E=i(53238),R=i(75806),x=i(73294),C=i(85467),v=i(25452),T=i(85571),S=i(59617),A=i(15048),q=i(97611),j=i(68701),I=i(54558),L=i(56040),H=i(77552),k=i(97598),B=i.n(k),D=i(55530),y=i.n(D),F=i(16252),U=i(79170);var M=i(1851),V=i(12675),O=i(22054),G=i(57183);const N="moHCnT",W="fTEXDR";class $ extends o().PureComponent{constructor(e){super(e),this.state={error:!1},this.getImagePluginConfig=()=>({encoding:"AVIF",imageProps:e=>this.props.pageUrl?{"data-pin-url":this.props.pageUrl,"data-pin-media":(0,F.isString)(e)?e:(0,U.VG)({image:e,maxWidth:5e3,maxHeight:5e3})}:{}}),this.getGalleryPluginConfig=()=>{const{isInEditor:e,Wix:s}=this.props;return{imageProps:()=>({"data-pin-url":this.props.pageUrl}),scrollingElement:e?{addEventListener:(e,i)=>{s.addEventListener(e.toUpperCase(),i)},removeEventListener:(e,i)=>{s.removeEventListener(e.toUpperCase(),i)}}:"undefined"!=typeof window&&window}},this.getTextColorPluginConfig=()=>{const{appSettings:e,isHexColor:s}=this.props,i=(0,G.MZ)({appSettings:e});return{customStyleFn:(0,G.NQ)(i,{isHexColor:s}),styleSelectionPredicate:(0,G.l8)(i,{isHexColor:s})}},this.getTextHighlightPluginConfig=()=>{const{appSettings:e,isHexColor:s}=this.props,i=(0,G.MZ)({appSettings:e});return{customStyleFn:(0,G.n$)(i,{isHexColor:s}),styleSelectionPredicate:(0,G.l8)(i,{isHexColor:s})}},this.getLinkPreviewPluginConfig=()=>({enableEmbed:!0,enableLinkPreview:!0,enableEnterToConvertLinks:!1}),this.getHashtagPluginConfig=()=>{const{hashtagNavigate:e,sectionUrl:s}=this.props;return{onClick:s=>{s.preventDefault(),s.stopPropagation(),e((0,M.Yb)(s.target.innerText,{newPath:this.props.isHashtagPageAsFeedPageEnabled}))},createHref:e=>(0,M.A6)(e,s,{newPath:this.props.isHashtagPageAsFeedPageEnabled})}},this.getActionButtonPluginConfig=()=>({onClick:this.props.onButtonClick}),this.getFileDownloadBIProps=(e,s)=>{const{postId:i,isDemoPost:t}=this.props;return{file_ext:e.type,file_id:e.id,file_size:e.size,mime_type:e.mimeType,post_stable_id:i,is_demo:t,origin:"post",success:s}},this.getFilePluginConfig=()=>{const{postId:e,bi:s,actions:i}=this.props;return{resolveFileUrl:t=>("undefined"!=typeof navigator&&/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&i.showMessage(O.y$),i.requestFileDownloadUrl(e,t.path,t.id,t.mimeType).then((({url:e})=>(s.fileDownloaded(this.getFileDownloadBIProps(t,!0)),e))).catch((()=>s.fileDownloaded(this.getFileDownloadBIProps(t,!1)))))}},this.getPollSettings=()=>({onBeforeVote:({voteRole:e})=>{const{currentUser:s,actions:i,isBusinessManager:t}=this.props;return new Promise(((o,n)=>t?n():s||"ALL"===e?o():void i.requestLogin().then(o,n)))}}),this.getPlugins=()=>[this.props.pluginAudio(),this.props.pluginCodeBlock(),this.props.pluginDivider(),this.props.pluginLinkButton(),this.props.pluginGallery(this.getGalleryPluginConfig()),this.props.pluginGiphy(),this.props.pluginHashtag(this.getHashtagPluginConfig()),this.props.pluginHtml(),this.props.pluginImage(this.getImagePluginConfig()),this.props.pluginLineSpacing(),this.props.pluginIndent(),this.props.pluginLink(),this.props.pluginTextColor(this.getTextColorPluginConfig()),this.props.pluginTextHighlight(this.getTextHighlightPluginConfig()),this.props.pluginLinkPreview(this.getLinkPreviewPluginConfig()),this.props.pluginVideo(),this.props.pluginFileUpload(this.getFilePluginConfig()),this.props.pluginActionButton(this.getActionButtonPluginConfig()),this.props.pluginVerticalEmbed(),this.props.pluginTable(),this.props.pluginCollapsibleList(),...this.props.pluginPoll?[this.props.pluginPoll(this.getPollSettings())]:[]],this.onError=e=>{this.state.error||this.setState({error:e})},this.wixExperiments={all:()=>e.experiments}}render(){if(this.state.error)return this.props.fallback();const{WixRicosViewer:e,content:s,rceVersion:i,theme:t,section:n,isBusinessManager:r,isSeo:l,isMobile:a,locale:g,isPostPageBundle:p,instance:u,postId:c,setViewerRef:d,baseUrl:h,iframeSandboxDomain:m,visitorId:f}=this.props,P=this.getPlugins(),_=y()(W);return o().createElement("div",{className:N},o().createElement("div",{ref:d,className:_,"data-rce-version":i},o().createElement(e,{plugins:P,content:s,theme:t,locale:g,instance:u,onError:this.onError,isMobile:a,seoSettings:l,linkSettings:V.A,wixExperiments:this.wixExperiments,addAnchors:!0,baseUrl:h,iframeSandboxDomain:m,biSettings:{consumer:"Blog",contentId:c,platform:r?"BM":"Livesite",usage:p?"Post":n,defaultParams:{visitorId:f}}})))}}$.propTypes={WixRicosViewer:B().elementType.isRequired,pluginAudio:B().func.isRequired,pluginCodeBlock:B().func.isRequired,pluginDivider:B().func.isRequired,pluginLinkButton:B().func.isRequired,pluginGallery:B().func.isRequired,pluginGiphy:B().func.isRequired,pluginHashtag:B().func.isRequired,pluginHtml:B().func.isRequired,pluginImage:B().func.isRequired,pluginLineSpacing:B().func.isRequired,pluginIndent:B().func.isRequired,pluginLink:B().func.isRequired,pluginLinkPreview:B().func.isRequired,pluginTextColor:B().func.isRequired,pluginTextHighlight:B().func.isRequired,pluginVideo:B().func.isRequired,pluginFileUpload:B().func.isRequired,pluginActionButton:B().func.isRequired,pluginVerticalEmbed:B().func.isRequired,pluginTable:B().func.isRequired,pluginCollapsibleList:B().func.isRequired,pluginPoll:B().func,postId:B().string.isRequired,content:B().object.isRequired,rceVersion:B().string.isRequired,theme:B().object,isBusinessManager:B().bool,appSettings:B().object.isRequired,isSeo:B().bool.isRequired,isInEditor:B().bool,isMobile:B().bool.isRequired,locale:B().string.isRequired,isPostPageBundle:B().bool.isRequired,instance:B().string.isRequired,pageUrl:B().string.isRequired,isHexColor:B().func.isRequired,hashtagNavigate:B().func.isRequired,baseUrl:B().string,section:B().string.isRequired,sectionUrl:B().string.isRequired,onButtonClick:B().func,isHashtagPageAsFeedPageEnabled:B().bool,Wix:B().object.isRequired,experiments:B().object.isRequired,setViewerRef:B().func.isRequired,isDemoPost:B().bool,visitorId:B().string},$.defaultProps={isBusinessManager:!1,fallback:()=>"Content cannot be displayed"};const Y=$;class Q extends o().Component{constructor(){super(...arguments),this.state={viewerRef:null},this.setViewerRef=e=>this.setState({viewerRef:e})}render(){const{isMobile:e,TextSelectionToolbar:s,TwitterButton:i,isTwitterEnabled:t}=this.props;return o().createElement("div",{className:N},o().createElement(Y,{...this.props,setViewerRef:this.setViewerRef}),t&&!e?o().createElement(s,{container:this.state.viewerRef},(e=>o().createElement(i,{selectedText:e}))):null)}}Q.propTypes={TextSelectionToolbar:B().elementType.isRequired,TwitterButton:B().elementType.isRequired,isMobile:B().bool.isRequired,isTwitterEnabled:B().bool};const Z=Q;var z=i(65259),J=i(77933),K=i(66215),X=i(20915),ee=i(51880),se=i(84329),ie=i(63971),te=i(11366),oe=i(1408),ne=i(78411),re=i(72859),le=i(711),ae=i(87007);i(2829),i(79650),i(91303);const ge=e=>{var s;!function(e,s){if(!e)throw new Error(s)}(e.theme,"RicosViewer: theme is required");const i=(null==(s=e.post)?void 0:s.isDemo)??!1,t=(0,j.S)(e.post),k=(0,X.d4)(I.Qd),B=(0,X.d4)(I.a$),D=(0,X.dN)(),{isDesktop:y,isMobile:F}=(0,J.A)(),{isPluginXEnabled:U}=(0,K.G)(),M={appSettings:(0,X.d4)(ee.tl),isSeo:(0,X.d4)(re.ah),isInEditor:(0,X.d4)(re.sb),isInPreview:(0,X.d4)(re.bU),isPostPageBundle:(0,X.d4)(I.Ym),locale:(0,X.d4)(ie.JK),instance:(0,X.d4)(re.iE),pageUrl:(0,X.d4)(re.ID),baseUrl:(0,X.d4)(ae.$_),section:(0,X.d4)(oe.S),sectionUrl:(0,X.d4)(ae.Do),iframeSandboxDomain:(0,X.d4)(te.m),currentUser:(0,X.d4)(L.HW),isHashtagPageAsFeedPageEnabled:(0,X.d4)((e=>(0,H.b)(e,z.f.HASHTAG_PAGE_USE_FEED_PAGE))),experiments:(0,X.d4)(H.D),shouldApplyPostDesignInFeed:(0,X.d4)(se.h),metasiteId:(0,X.d4)(le._G),visitorId:(0,X.d4)((e=>(0,le.rP)(e,"aid")||(0,le.rP)(e,"uid")))},V={hashtagNavigate:D.navigateWithinBlog,isDesktop:y,isMobile:F,postId:t,videoHost:k,imageHost:B,isTwitterEnabled:U,...e,...M,WixRicosViewer:n.P,pluginAudio:f.w,pluginCodeBlock:r.w,pluginDivider:P.L,pluginLinkButton:_.w,pluginGallery:w.I,pluginGiphy:b.V,pluginHashtag:l.Q,pluginHtml:E.R,pluginImage:R.t,pluginLineSpacing:a.P,pluginIndent:g.O,pluginLink:p.k,pluginLinkPreview:x.u,pluginTable:C.K,pluginTextColor:u.Q,pluginTextHighlight:u.L,pluginVideo:v.j,pluginFileUpload:T.j,pluginActionButton:_.Y,pluginVerticalEmbed:S.j,pluginCollapsibleList:A.u,pluginPoll:q.N,content:e.initialRawState,rceVersion:c.A.currentVersion,isHexColor:d.fd,TextSelectionToolbar:h.A,TwitterButton:m.A,Wix:ne.A,isDemoPost:i,actions:{requestFileDownloadUrl:D.requestFileDownloadUrlPromisified,requestLogin:D.requestLoginPromisified,showMessage:D.showMessage},bi:{fileDownloaded:D.fileDownloaded}};return o().createElement(Z,V)}},11366:(e,s,i)=>{"use strict";i.d(s,{m:()=>o});var t=i(711);const o=e=>`https://${(0,t._G)(e)}.usrfiles.com`}}]);
//# sourceMappingURL=rich-content-viewer.chunk.min.js.map