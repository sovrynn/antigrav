"use strict";(("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi=("undefined"!=typeof self?self:this).webpackJsonp__wix_communities_blog_ooi||[]).push([[9739],{47849:(e,t,n)=>{n.d(t,{$Z:()=>f,$p:()=>x,NV:()=>C,cm:()=>S,ec:()=>w});var o=n(60751),r=n(83202);var i,s={exports:{}},a={};s.exports=function(){if(i)return a;i=1;var e=o,t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function c(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!t(e,o)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),i=n({inst:{value:o,getSnapshot:t}}),a=i[0].inst,u=i[1];return s((function(){a.value=o,a.getSnapshot=t,c(a)&&u({inst:a})}),[e,o,t]),r((function(){return c(a)&&u({inst:a}),e((function(){c(a)&&u({inst:a})}))}),[e]),l(o),o};return a.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u,a}();var l=s.exports;const c=(...e)=>t=>{e.forEach((e=>{"function"==typeof e?e(t):e&&(e.current=t)}))},u=({contentComponent:e})=>{const t=l.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return o.createElement(o.Fragment,null,Object.values(t))};class d extends o.Component{constructor(e){var t;super(e),this.editorContentRef=o.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:Boolean(null===(t=e.editor)||void 0===t?void 0:t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=function(){const e=new Set;let t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,o){t={...t,[n]:r.createPortal(o.reactElement,o.element,n)},e.forEach((e=>e()))},removeRenderer(n){const o={...t};delete o[n],t=o,e.forEach((e=>e()))}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe((()=>{this.setState((e=>e.hasContentComponentInitialized?e:{hasContentComponentInitialized:!0})),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()}))),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e)return;if(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild)return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...n}=this.props;return o.createElement(o.Fragment,null,o.createElement("div",{ref:c(t,this.editorContentRef),...n}),(null==e?void 0:e.contentComponent)&&o.createElement(u,{contentComponent:e.contentComponent}))}}const p=(0,o.forwardRef)(((e,t)=>{const n=o.useMemo((()=>Math.floor(4294967295*Math.random()).toString()),[e.editor]);return o.createElement(d,{key:n,innerRef:t,...e})})),f=o.memo(p);var m,v={exports:{}},h={};v.exports=function(){if(m)return h;m=1;var e=o,t=l,n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,c=e.useDebugValue;return h.useSyncExternalStoreWithSelector=function(e,t,o,l,u){var d=i(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;d=a((function(){function e(e){if(!s){if(s=!0,r=e,e=l(e),void 0!==u&&p.hasValue){var t=p.value;if(u(t,e))return i=t}return i=e}if(t=i,n(r,e))return t;var o=l(e);return void 0!==u&&u(t,o)?t:(r=e,i=o)}var r,i,s=!1,a=void 0===o?null:o;return[function(){return e(t())},null===a?void 0:function(){return e(a())}]}),[t,o,l,u]);var f=r(e,d[0],d[1]);return s((function(){p.hasValue=!0,p.value=f}),[f]),c(f),f},h}();v.exports;const g="undefined"==typeof window;g||Boolean("undefined"!=typeof window&&window.next);const y=(0,o.createContext)({editor:null});y.Consumer;const w=(0,o.createContext)({onDragStart:void 0}),S=()=>(0,o.useContext)(w),x=e=>{const t=e.as||"div",{nodeViewContentRef:n}=S();return o.createElement(t,{...e,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style}})};o.forwardRef(((e,t)=>{const{onDragStart:n}=S(),r=e.as||"div";return o.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})}));class C{constructor(e,{editor:t,props:n={},as:o="div",className:i=""}){this.ref=null,this.id=Math.floor(4294967295*Math.random()).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(o),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?(0,r.flushSync)((()=>{this.render()})):this.render()}render(){var e;const t=this.component,n=this.props,r=this.editor;(function(e){return!("function"!=typeof e||!e.prototype||!e.prototype.isReactComponent)}(t)||function(e){var t;return!("object"!=typeof e||"Symbol(react.forward_ref)"!==(null===(t=e.$$typeof)||void 0===t?void 0:t.toString()))}(t))&&(n.ref=e=>{this.ref=e}),this.reactElement=o.createElement(t,n),null===(e=null==r?void 0:r.contentComponent)||void 0===e||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;null===(e=null==t?void 0:t.contentComponent)||void 0===e||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach((t=>{this.element.setAttribute(t,e[t])}))}}},98898:(e,t,n)=>{n.d(t,{Ay:()=>l});var o=n(67599),r=n(91633),i=n(28327);function s(e){var t;const{char:n,allowSpaces:o,allowedPrefixes:r,startOfLine:s,$position:a}=e,l=(0,i.GG)(n),c=new RegExp(`\\s${l}$`),u=s?"^":"",d=o?new RegExp(`${u}${l}.*?(?=\\s${l}|$)`,"gm"):new RegExp(`${u}(?:^)?${l}[^\\s${l}]*`,"gm"),p=(null===(t=a.nodeBefore)||void 0===t?void 0:t.isText)&&a.nodeBefore.text;if(!p)return null;const f=a.pos-p.length,m=Array.from(p.matchAll(d)).pop();if(!m||void 0===m.input||void 0===m.index)return null;const v=m.input.slice(Math.max(0,m.index-1),m.index),h=new RegExp(`^[${null==r?void 0:r.join("")}\0]?$`).test(v);if(null!==r&&!h)return null;const g=f+m.index;let y=g+m[0].length;return o&&c.test(p.slice(y-1,y+1))&&(m[0]+=" ",y+=1),g<a.pos&&y>=a.pos?{range:{from:g,to:y},query:m[0].slice(n.length),text:m[0]}:null}const a=new o.hs("suggestion");function l({pluginKey:e=a,editor:t,char:n="@",allowSpaces:i=!1,allowedPrefixes:l=[" "],startOfLine:c=!1,decorationTag:u="span",decorationClass:d="suggestion",command:p=(()=>null),items:f=(()=>[]),render:m=(()=>({})),allow:v=(()=>!0),findSuggestionMatch:h=s}){let g;const y=null==m?void 0:m(),w=new o.k_({key:e,view(){return{update:async(e,n)=>{var o,r,i,s,a,l,c;const u=null===(o=this.key)||void 0===o?void 0:o.getState(n),d=null===(r=this.key)||void 0===r?void 0:r.getState(e.state),m=u.active&&d.active&&u.range.from!==d.range.from,v=!u.active&&d.active,h=u.active&&!d.active,w=!v&&!h&&u.query!==d.query,S=v||m&&w,x=w||m,C=h||m&&w;if(!S&&!x&&!C)return;const E=C&&!S?u:d,b=e.dom.querySelector(`[data-decoration-id="${E.decorationId}"]`);g={editor:t,range:E.range,query:E.query,text:E.text,items:[],command:e=>p({editor:t,range:E.range,props:e}),decorationNode:b,clientRect:b?()=>{var n;const{decorationId:o}=null===(n=this.key)||void 0===n?void 0:n.getState(t.state),r=e.dom.querySelector(`[data-decoration-id="${o}"]`);return(null==r?void 0:r.getBoundingClientRect())||null}:null},S&&(null===(i=null==y?void 0:y.onBeforeStart)||void 0===i||i.call(y,g)),x&&(null===(s=null==y?void 0:y.onBeforeUpdate)||void 0===s||s.call(y,g)),(x||S)&&(g.items=await f({editor:t,query:E.query})),C&&(null===(a=null==y?void 0:y.onExit)||void 0===a||a.call(y,g)),x&&(null===(l=null==y?void 0:y.onUpdate)||void 0===l||l.call(y,g)),S&&(null===(c=null==y?void 0:y.onStart)||void 0===c||c.call(y,g))},destroy:()=>{var e;g&&(null===(e=null==y?void 0:y.onExit)||void 0===e||e.call(y,g))}}},state:{init:()=>({active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}),apply(e,o,r,s){const{isEditable:a}=t,{composing:u}=t.view,{selection:d}=e,{empty:p,from:f}=d,m={...o};if(m.composing=u,a&&(p||t.view.composing)){!(f<o.range.from||f>o.range.to)||u||o.composing||(m.active=!1);const e=h({char:n,allowSpaces:i,allowedPrefixes:l,startOfLine:c,$position:d.$from}),r=`id_${Math.floor(4294967295*Math.random())}`;e&&v({editor:t,state:s,range:e.range,isActive:o.active})?(m.active=!0,m.decorationId=o.decorationId?o.decorationId:r,m.range=e.range,m.query=e.query,m.text=e.text):m.active=!1}else m.active=!1;return m.active||(m.decorationId=null,m.range={from:0,to:0},m.query=null,m.text=null),m}},props:{handleKeyDown(e,t){var n;const{active:o,range:r}=w.getState(e.state);return o&&(null===(n=null==y?void 0:y.onKeyDown)||void 0===n?void 0:n.call(y,{view:e,event:t,range:r}))||!1},decorations(e){const{active:t,range:n,decorationId:o}=w.getState(e);return t?r.zF.create(e.doc,[r.NZ.inline(n.from,n.to,{nodeName:u,class:d,"data-decoration-id":o})]):null}}});return w}},13352:(e,t,n)=>{n.d(t,{t:()=>a,v:()=>s});var o=n(38889),r=n(94621),i=n(28327);const s=(e,t,n=9999)=>{const s={getBoundingClientRect:()=>(0,i.MG)(e.view,e.state.selection.from,e.state.selection.to)};(0,o.rD)(s,t,{placement:"bottom-start",strategy:"absolute",middleware:[(0,r.BN)(),(0,r.UU)()]}).then((({x:e,y:o,strategy:r})=>{t.style.width="max-content",t.style.position=r,t.style.left=`${e}px`,t.style.top=`${o}px`,t.style.zIndex=`${n}`}))},a=(e,t,n)=>{const r=t.element;return(0,o.ll)({getBoundingClientRect:()=>(0,i.MG)(e.view,e.state.selection.from,e.state.selection.to),contextElement:e.view.dom},r,(()=>s(e,r,n)))}},37799:(e,t,n)=>{n.d(t,{Q:()=>i});var o=n(16252);const r=e=>{let t=0;if(!e)return;const n=e=>0===e?.length?[]:e?.map((e=>{const{id:o,nodes:r,...i}=e;return{...i,id:""+t++,...r&&{nodes:n(r)}}}));return n(e)},i=(e={nodes:[]},t={nodes:[]})=>{const n=JSON.parse(JSON.stringify(e)),i=JSON.parse(JSON.stringify(t));if(!o.isEqual(n.documentStyle,i.documentStyle))return!1;if(n.nodes?.length!==i.nodes?.length)return!1;const s=r(n.nodes),a=r(i.nodes);return!!o.isEqual(s,a)}}}]);
//# sourceMappingURL=9739.chunk.min.js.map